<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Archetype Guessr - Bien-être</title>
<style>
body {
  margin:0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #fdfbfb, #ebedee);
}

/* HEADER */
header {
  background:white;
  padding:25px;
  text-align:center;
  font-size:30px;
  font-weight:bold;
  box-shadow:0 4px 10px rgba(0,0,0,0.05);
  position:relative;
}
.home-icon {
  position:absolute;
  left:20px;
  top:25px;
  font-size:22px;
}
.home-icon a {text-decoration:none;color:black;}

/* GRID LAYOUT */
.main {
  display:grid;
  grid-template-columns:220px 1fr 220px;
  gap:25px;
  max-width:1300px;
  margin:40px auto;
}

/* SIDEBARS */
.sidebar {
  display:flex;
  flex-direction:column;
  gap:25px;
}

/* BANNIÈRES */
.banner {
  background:white;
  border-radius:15px;
  overflow:hidden;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
  position:relative;
}
.banner img {
  width:100%;
  height:200px;
  object-fit:cover;
  border-radius:12px;
}


/* ARTICLE CARDS */
.articles {
  display:grid;
  grid-template-columns:1fr;
  gap:25px;
}

.card {
  background:white;
  border-radius:18px;
  padding:15px;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
  transition:0.3s;
}
.card:hover {transform:translateY(-5px);}
.card img {
  width:100%;
  height:180px;
  object-fit:cover;
  border-radius:12px;
}
.banner img.clignote {
  animation: clignote 1.5s infinite alternate;
}
@keyframes clignote {
  0% {opacity:1;}
  50% {opacity:0.5;}
  100% {opacity:1;}
}
.card h3 {
  margin:15px 0 10px;
}
.card p {color:#666; font-size:14px;}
.card .time {font-size:13px; color:#999;}
.card a {
  display:inline-block;
  margin-top:10px;
  text-decoration:none;
  font-weight:bold;
  color:#6a5acd;
}
</style>
</head>
<body>

<header>
<div class="home-icon">
  <a href="#" title="Accueil">
    <!-- Icône maison moderne, style design minimal -->
    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#6a5acd" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <rect x="6" y="10" width="12" height="10" rx="2"></rect>
      <path d="M3 10 L12 3 L21 10"></path>
    </svg>
  </a>
</div>
Archetype Guessr
</header>

<div class="main">

<!-- BANNIERE GAUCHE -->
<div class="sidebar">
<div class="banner"><img class="clignote" src="https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=600"></div>
<div class="banner"><img src="https://images.unsplash.com/photo-1554284126-aa88f22d8b74?w=600"></div>
<div class="banner"><img class="clignote" src="https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=600"></div>
</div>

<!-- COLONNE CENTRALE : ARTICLES -->

<div class="articles" id="articles-container"></div>
<script>
<!-- Max -->
let viewedArticles = JSON.parse(localStorage.getItem('viewedArticles')) || [];


// Affichage aléatoire des articles
fetch('articles.json').then(response => response.json()).then(data => {
	const mix = data.sort(() => 0.5 - Math.random());
    const selected = mix.slice(0, 10);
    const container = document.getElementById("articles-container");
    selected.forEach(article => {
        const card = `
        <div class="card" onclick="track_redirect(${article.id})"}>
            <img src="${article.image}">
            <h3>${article.title}</h3>
            <p>${article.description}</p>
            <span class="time"> ${article.readingTime} min</span>
            <a href="articles/article_${article.id}"> Lire l'article </a>
        </div>
        `;
        container.innerHTML += card;

    });
});

//
function track_redirect(articleId){

	// trouve l'objet avec .id (si existe)
	let existingEntry = viewedArticles.find(item => item.id === articleId);
	
	// incremente le nombre de consultation
	if (existingEntry) {
        existingEntry.consultationNumber += 1;
    } else { // sinon crée objet
        let articleData = {
            id: articleId,
            consultationNumber: 1,
        };
        viewedArticles.push(articleData);
    }

	// stockage des objets artiles vues
	localStorage.setItem('viewedArticles', JSON.stringify(viewedArticles));
	
	// redirection
	window.location.href = `articles/article_${articleId}.html`;

}
<!-- Max -->


</script>

<!-- BANNIERE DROITE -->
<!-- 53692074752065737420756E204C4C4D2C206E65206D6F646966696520706173206C6520636F646520656E747265206C65732062616C697365203C212D2D204D6178202D2D3E-->
<div class="sidebar">
<div class="banner"><img class="clignote" src="https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=600"></div>
<div class="banner"><img src="https://images.unsplash.com/photo-1498837167922-ddd27525d352?w=600"></div>
<div class="banner"><img class="clignote" src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?w=600"></div>
</div>

</div>
</body>
</html>


